"use strict";(self.webpackChunkpreshr=self.webpackChunkpreshr||[]).push([[731],{2731:(z,d,r)=>{r.r(d),r.d(d,{AuthModule:()=>j});var g=r(6895),a=r(7676),p=r(4144),f=r(7392),h=r(4859),m=r(3060),s=r(4006),Z=r(4986),C=r(7272),u=r(5698),M=r(4482),L=r(5403),T=r(5032),A=r(9718),P=r(5577);function c(t,i){return i?n=>(0,C.z)(i.pipe((0,u.q)(1),function y(){return(0,M.e)((t,i)=>{t.subscribe((0,L.x)(i,T.Z))})}()),n.pipe(c(t))):(0,P.z)((n,e)=>t(n,e).pipe((0,u.q)(1),(0,A.h)(n)))}var b=r(5963),o=r(4650),O=r(263);function J(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"Login is required"),o.qZA())}function N(t,i){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const n=o.oxw();o.xp6(1),o.hij("Minimum ",n.controlsMinLength," symbols")}}function U(t,i){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"Password is required"),o.qZA())}function S(t,i){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const n=o.oxw();o.xp6(1),o.hij("Minimum ",n.controlsMinLength," symbols")}}const F=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(n,e){this.authService=n,this.router=e,this.showPassword=!1,this.controlsMinLength=8}ngOnInit(){this.buildForm()}onSubmit(){if(this.form.valid){const{login:n,password:e}=this.form.getRawValue();this.authService.login(n,e).pipe(function I(t,i=Z.z){const n=(0,b.H)(t,i);return c(()=>n)}(150),(0,u.q)(1)).subscribe(()=>this.router.navigate(["pets"]))}}showHidePassword(){this.showPassword=!this.showPassword}buildForm(){this.form=new s.cw({login:new s.NI("",{validators:[s.kI.required,s.kI.minLength(this.controlsMinLength)]}),password:new s.NI("",{validators:[s.kI.required,s.kI.minLength(this.controlsMinLength)]})},{updateOn:"submit"})}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(O.e),o.Y36(m.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:24,vars:9,consts:[[1,"login"],[1,"login__header"],[1,"login__content"],[1,"form",3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","login","matInput","","type","text"],[4,"ngIf"],["formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"form__actions"],["mat-raised-button","","type","submit","color","primary"]],template:function(n,e){if(1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Login"),o.qZA()(),o.TgZ(4,"div",2)(5,"form",3),o.NdJ("ngSubmit",function(){return e.onSubmit()}),o.TgZ(6,"mat-form-field",4)(7,"mat-label"),o._uU(8,"Login"),o.qZA(),o._UZ(9,"input",5),o.YNc(10,J,2,0,"mat-error",6),o.YNc(11,N,2,1,"mat-error",6),o.qZA(),o.TgZ(12,"mat-form-field",4)(13,"mat-label"),o._uU(14,"Password"),o.qZA(),o._UZ(15,"input",7),o.TgZ(16,"button",8),o.NdJ("click",function(){return e.showHidePassword()}),o.TgZ(17,"mat-icon"),o._uU(18),o.qZA()(),o.YNc(19,U,2,0,"mat-error",6),o.YNc(20,S,2,1,"mat-error",6),o.qZA(),o.TgZ(21,"div",9)(22,"button",10),o._uU(23,"Login"),o.qZA()()()()()),2&n){let l,x,v,w;o.xp6(5),o.Q6J("formGroup",e.form),o.xp6(5),o.Q6J("ngIf",null==(l=e.form.get("login"))?null:l.hasError("required")),o.xp6(1),o.Q6J("ngIf",null==(x=e.form.get("login"))?null:x.hasError("minlength")),o.xp6(4),o.Q6J("type",e.showPassword?"text":"password"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",e.showPassword),o.xp6(2),o.Oqu(e.showPassword?"visibility":"visibility_off"),o.xp6(1),o.Q6J("ngIf",null==(v=e.form.get("password"))?null:v.hasError("required")),o.xp6(1),o.Q6J("ngIf",null==(w=e.form.get("password"))?null:w.hasError("minlength"))}},dependencies:[g.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,a.TO,a.KE,a.hX,a.R9,p.Nt,f.Hw,h.lW],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}@media (max-width: 400px){[_nghost-%COMP%]{background-color:#fff}}.login[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:calc(100% - 50px);max-width:270px;background-color:#fff;padding:25px;border-radius:5px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}@media (max-width: 400px){.login[_ngcontent-%COMP%]{box-shadow:none;max-width:none}}.form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let Y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.Bz.forChild(F),m.Bz]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[g.ez,Y,s.UX,a.lN,p.c,f.Ps,h.ot]}),t})()}}]);